# VF203 系列智能门禁应用

## 项目简介

本项目是为 VF203 系列智能门禁终端设备开发的嵌入式应用程序。它提供了一套完整的门禁控制解决方案，集成了人脸识别、NFC 卡片识别等多种现代化的身份验证技术。

该应用是基于 `dxFacial` 人脸识别组件开发的新一代标准化产品应用源码。

该系统旨在提供安全、高效、可靠的门禁管理服务，适用于办公楼、社区、校园等多种场景。

## 核心功能

- **多重验证方式**:

  - **人脸识别**: 支持高精度的人脸比对和活体检测，防止照片或视频攻击。
  - **NFC 读卡**: 支持读取 NFC 卡片信息进行身份验证。
  - **密码开门**: 支持通过密码键盘进行开门操作。

- **设备管理与控制**:

  - 全面控制门禁机的硬件，包括继电器、屏幕背光、红外/白色补光灯、音频播放等。
  - 支持 GPIO 按键输入和防拆报警等安全功能。

- **网络与通信**:

  - 支持以太网、Wi-Fi 及 4G 多种网络连接方式。
  - 使用标准 MQTT 协议与云端管理平台进行实时通信，上报通行记录和设备状态。
  - 内置 HTTP 服务，方便进行本地设备配置与管理。

- **离线工作模式**:

  - 内置 SQLite 数据库，可在本地存储用户信息和通行记录。
  - 在网络中断的情况下，设备仍能正常完成身份验证和开门操作，网络恢复后自动同步数据。

- **系统稳定性**:
  - 集成看门狗（Watchdog）机制，确保系统长时间稳定运行。
  - 支持 NTP 网络时间协议，自动校准设备时间。

## 技术栈

- **核心语言**: JavaScript (ECMAScript)
- **运行环境**: 定制化的嵌入式 JavaScript 引擎
- **核心模块**:
  - `main.js`: 应用程序主入口，负责初始化和启动各个模块。
  - `driver.js`: 封装了底层硬件操作的驱动接口。
  - `controller.js`: 核心业务逻辑控制器，处理硬件事件和业务流程。
  - `screen.js`: UI 界面逻辑。
  - `services.js`: 应用服务层，处理 MQTT 通信、数据同步等。
  - `config.json`: 系统主要配置文件。

## 支持设备型号

- VF203
- VF202
- VF114
- VF105
